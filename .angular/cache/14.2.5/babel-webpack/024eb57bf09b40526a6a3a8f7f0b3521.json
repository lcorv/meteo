{"ast":null,"code":"import { Renderer2 } from '@angular/core';\nimport { darkBtn, navbar, routeAnim, bgInOut } from './animation/animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/note.service\";\nimport * as i2 from \"./services/meteo.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/sidenav\";\nimport * as i7 from \"@angular/material/toolbar\";\nimport * as i8 from \"@angular/flex-layout/flex\";\nimport * as i9 from \"@angular/flex-layout/extended\";\nimport * as i10 from \"./navbar/navbar.component\";\nimport * as i11 from \"./navigation/navigation.component\";\nconst _c0 = [\"drawer\"];\nconst _c1 = [\"bg\"];\n\nfunction AppComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22)(2, \"div\", 23);\n    i0.ɵɵtext(3, \"M\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction AppComponent_span_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 8);\n    i0.ɵɵtext(1, \" dark_mode \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@darkBtn\", undefined);\n  }\n}\n\nfunction AppComponent_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 8);\n    i0.ɵɵtext(1, \" light_mode \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@darkBtn\", undefined);\n  }\n}\n\nfunction AppComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 24, 25);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@bgInOut\", undefined);\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(noteService, meteoService, router, renderer) {\n      this.noteService = noteService;\n      this.meteoService = meteoService;\n      this.router = router;\n      this.renderer = renderer;\n      this.splash = true;\n      this.date = new Date().getTime();\n      this.background = \"\";\n    }\n\n    ngOnInit() {\n      setTimeout(() => {\n        this.splash = false;\n      }, 4000);\n    }\n\n    ngAfterViewInit() {\n      this.meteoService.putDrawer(this.drawer);\n      this.meteoService.selectedMeteo.subscribe(city => {\n        if (city.city) {\n          this.city = city.city.name;\n          this.sunrise = city.city.sunrise;\n          this.sunset = city.city.sunset;\n          console.log(this.bg.nativeElement.parentElement);\n\n          if (this.city) {\n            if (Math.abs(this.sunset - this.date / 1000) < 3600 || Math.abs(this.sunrise - this.date / 1000) < 3600) {\n              this.bg.nativeElement.parentElement.style.backgroundImage = 'linear-gradient(to top ,#f559 0%, #fb69 20%, #fff0)';\n            } else {\n              this.bg.nativeElement.parentElement.style.backgroundImage = 'linear-gradient(to top ,#f550 0%, #fb60 20%, #fff0)';\n            }\n          }\n        }\n      });\n      this.meteoService.nowDisplayed.subscribe(meteoBg => {\n        this.displayed = meteoBg;\n\n        if (meteoBg == \"Clouds\" || meteoBg == \"Rain\") {\n          this.background = \"url(https://www.pngplay.com/wp-content/uploads/13/Cumulus-Clouds-Background-PNG-Image.png)\";\n        } else {\n          this.background = \"\";\n        }\n\n        ;\n        setTimeout(() => {\n          if (this.bg) {\n            this.setBackground(meteoBg);\n          }\n        }, 500);\n      });\n    }\n\n    prepareRoute(outlet) {\n      if (outlet.isActivated) {\n        return outlet.activatedRouteData[\"tab\"];\n      } else return 1;\n    }\n\n    putDark(dark) {\n      this.noteService.putDark(dark);\n    }\n\n    setBackground(bg) {\n      if (bg == \"Rain\") {\n        this.bg.nativeElement.innerHTML = \"\";\n        this.generateRain(20);\n      } else {\n        this.bg.nativeElement.innerHTML = \"\";\n        this.bg.nativeElement.style.backgroundColor = \"\";\n      }\n    }\n\n    generateRain(number) {\n      this.bg.nativeElement.style.backgroundColor = \"#668\";\n\n      for (let i = 0; i < number; i++) {\n        let height = 28 - Math.random() * 18;\n        let left = 100 - Math.random() * 200;\n        let delay = Math.random() * 10;\n        let drop = this.renderer.createElement('div');\n        drop.className = \"drop\";\n        drop.style.height = height + \"px\";\n        drop.style.animationDelay = delay + \"s\";\n        drop.style.left = left + \"%\";\n        this.bg.nativeElement.appendChild(drop);\n      }\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.NoteService), i0.ɵɵdirectiveInject(i2.MeteoService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i0.Renderer2));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"my-app\"]],\n    viewQuery: function AppComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.drawer = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.bg = _t.first);\n      }\n    },\n    hostAttrs: [2, \"display\", \"block\"],\n    decls: 30,\n    vars: 15,\n    consts: [[\"color\", \"primary\", \"autosize\", \"\", 1, \"example-container\"], [\"color\", \"primary\", \"mode\", \"push\", 1, \"example-sidenav\", \"light-sidenav\"], [\"drawer\", \"\"], [3, \"drawer\"], [\"fxLayout\", \"row wrap\", \"fxLayoutAlign\", \"center\", 1, \"example-sidenav-content\"], [\"class\", \"splash\", 4, \"ngIf\"], [\"fxFlex\", \"100\", \"fxLayoutAlign\", \"space-between center\", \"fxLayout\", \"col\", \"color\", \"primary\"], [\"mat-icon-button\", \"\", \"mat-flat-button\", \"\", \"type\", \"button\", \"color\", \"primary\", 3, \"click\"], [1, \"material-symbols-outlined\"], [1, \"nav-router\"], [\"mat-flat-button\", \"\", \"color\", \"accent\", \"routerLinkActive\", \"active\", \"routerLink\", \"home\"], [\"color\", \"accent\", \"mat-flat-button\", \"\", \"routerLinkActive\", \"active\", \"routerLink\", \"tomorrow\"], [\"mat-flat-button\", \"\", \"routerLinkActive\", \"active\", \"routerLink\", \"moredays\", \"color\", \"accent\"], [\"fxFlexAlign\", \"center\", 1, \"dark-mode\", 3, \"click\"], [\"color\", \"primary\", \"mat-icon-button\", \"\", \"mat-flat-button\", \"\"], [\"class\", \"material-symbols-outlined\", 4, \"ngIf\"], [\"fxFlex\", \"100\", \"fxFlex.gt-sm\", \"100\", \"fxLayout.gt-sm\", \"col\", \"fxLayout\", \"row wrap\", \"fxLayoutAlign\", \"center start\", 1, \"container\", 2, \"transition\", \"all 0.5s\"], [\"class\", \"meteo-bg\", \"style\", \"`background-image:\", \"{{\", \"\", \"background\", \"\", \"}}`\", \"\", 4, \"ngIf\"], [\"fxFlex\", \"100\", 1, \"router\"], [\"outlet\", \"outlet\"], [\"fxHide.lt-md\", \"\", \"fxFlex\", \"30\"], [1, \"splash\"], [1, \"icon\"], [1, \"logo\"], [\"{{\", \"\", \"background\", \"\", \"}}`\", \"\", 1, \"meteo-bg\", 2, \"`background-image\", \"\"], [\"bg\", \"\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r7 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\")(1, \"mat-sidenav-container\", 0)(2, \"mat-sidenav\", 1, 2);\n        i0.ɵɵelement(4, \"app-navbar\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵtemplate(6, AppComponent_div_6_Template, 4, 0, \"div\", 5);\n        i0.ɵɵelementStart(7, \"mat-toolbar\", 6)(8, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_8_listener() {\n          i0.ɵɵrestoreView(_r7);\n\n          const _r0 = i0.ɵɵreference(3);\n\n          return i0.ɵɵresetView(_r0.toggle());\n        });\n        i0.ɵɵelementStart(9, \"span\", 8);\n        i0.ɵɵtext(10, \" search \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 9)(12, \"button\", 10);\n        i0.ɵɵtext(13, \" Today \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 11);\n        i0.ɵɵtext(15, \" Tomorrow \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"button\", 12);\n        i0.ɵɵtext(17, \" Next days \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 13);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_div_click_18_listener() {\n          ctx.dark = !ctx.dark;\n          return ctx.putDark(ctx.dark);\n        });\n        i0.ɵɵelementStart(19, \"button\", 14);\n        i0.ɵɵtemplate(20, AppComponent_span_20_Template, 2, 1, \"span\", 15);\n        i0.ɵɵtemplate(21, AppComponent_span_21_Template, 2, 1, \"span\", 15);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(22, \"div\", 16);\n        i0.ɵɵtemplate(23, AppComponent_div_23_Template, 2, 1, \"div\", 17);\n        i0.ɵɵelementStart(24, \"div\", 18);\n        i0.ɵɵelement(25, \"app-navigation\")(26, \"router-outlet\", null, 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 20);\n        i0.ɵɵelement(29, \"app-navbar\");\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(3);\n\n        const _r5 = i0.ɵɵreference(27);\n\n        i0.ɵɵclassProp(\"my-dark-theme\", ctx.dark);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"dark-sidenav\", ctx.dark);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"drawer\", _r0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassProp(\"my-darker\", ctx.dark)(\"my-light\", !ctx.dark);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.splash);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"@navbar\", undefined);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", !ctx.dark);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.dark);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"@routeAnim\", ctx.prepareRoute(_r5));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.background);\n      }\n    },\n    dependencies: [i4.NgIf, i3.RouterOutlet, i3.RouterLink, i3.RouterLinkActive, i5.MatButton, i6.MatSidenav, i6.MatSidenavContainer, i7.MatToolbar, i8.DefaultLayoutDirective, i8.DefaultLayoutAlignDirective, i8.DefaultFlexAlignDirective, i8.DefaultFlexDirective, i9.DefaultShowHideDirective, i10.NavbarComponent, i11.NavigationComponent],\n    styles: [\".dark-mode[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;height:40px}.dark-mode[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;display:block;align-self:center;top:0;height:100%;width:100%;line-height:40px;text-shadow:1px 1px 1px rgba(0,0,0,.3333333333)}.example-container[_ngcontent-%COMP%]{width:100vw!important;transition:background-color 1s}.splash[_ngcontent-%COMP%]{position:absolute;z-index:9999;top:0;left:0;height:100vh;width:100vw;background-color:#4e8dda;align-items:center;justify-content:center;transform-origin:50% 50%;animation:splash 4s 1;animation-fill-mode:forwards}.splash[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:relative;top:calc(50vh - 150px);left:calc(50vw - 75px);height:150px;width:150px;border-radius:75px;background-color:#fff;text-align:center;opacity:0;line-height:150px;font-size:120px;transform-origin:50%;animation:icon .5s .5s 1;animation-fill-mode:forwards}.splash[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:#fff;animation:enter 1s 1s 1;animation-fill-mode:forwards;font-weight:bolder;font-family:nova mono}@keyframes splash{0%{transform:scale(1)}12.5%{transform:scale(1)}99%{opacity:1}to{opacity:0}}@keyframes icon{0%{opacity:0;transform:scale(.9)}to{box-shadow:-5px 5px 5px #0005;opacity:1;transform:scale(1)}}@keyframes enter{0%{color:#fff;transform:translateY(10px);clip-path:polygon(0% 0%,0% 0%,100% 0%,100% 0%,0% 0%)}50%{color:#4e8dda;text-shadow:0 0 0 rgba(255,255,255,.3333333333);transform:translate(0) translateY(10px);clip-path:polygon(0% 0%,0% 70%,100% 70%,100% 0%,0% 0%)}to{color:#4e8dda;text-shadow:-2px 2px 0px rgba(0,0,0,.3333333333);clip-path:polygon(0% 0%,0% 70%,100% 70%,100% 0%,0% 0%);transform:translate(2px) translateY(8px)}}.meteo-bg[_ngcontent-%COMP%]{position:fixed;transition:background-color 1s;min-width:100vw;max-width:100vw;overflow:hidden;height:100%;background-size:200vw;background-position:50% -200px;background-repeat:no-repeat;opacity:.5}.meteo-bg[_ngcontent-%COMP%]   .drop[_ngcontent-%COMP%]{height:28px;width:3px;border-radius:2px;transform:rotate(-13deg);background-color:#eef5;display:inline-block;margin:0;position:absolute;top:-48px;animation:rain 1s infinite ease-in}@keyframes rain{0%{transform:translateY(0) translate(0) rotate(-13deg)}to{transform:translateY(100vh) translate(50vw) rotate(-23deg);height:48px}}.nav-router[_ngcontent-%COMP%]{text-align:center}.nav-router[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;font-size:14px!important}mat-toolbar[_ngcontent-%COMP%]{position:fixed;transition:background-color 1s;padding:0 5px;top:0;height:50px;width:100vw;z-index:100;border-bottom:1px solid rgba(119,119,119,0)}mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:80%;margin:auto 0;transition:all 1s!important}.example-sidenav-content[_ngcontent-%COMP%]{width:100%;overflow-x:hidden;transition:all 1s}.example-sidenav[_ngcontent-%COMP%]{padding:0;width:85%;max-width:400px}.dark-sidenav[_ngcontent-%COMP%]{background-color:#000!important}.light-sidenav[_ngcontent-%COMP%]{background-color:#4e8dda;color:#fff}.router[_ngcontent-%COMP%]{position:relative;height:-moz-fit-content;height:fit-content;overflow:hidden;width:100vw}\"],\n    data: {\n      animation: [darkBtn(), navbar(), routeAnim(), bgInOut()]\n    }\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}